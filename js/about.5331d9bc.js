(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2cbc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{attrs:{fluid:""}},[n("h1",{staticClass:"my-4"},[t._v(t._s(t.user.name))]),n("b-row",{staticClass:"my-5"},[n("b-col",[n("UserInfo",{staticClass:"info",attrs:{user:t.userVM}})],1),n("b-col",[n("div",[n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("h3",[t._v("Lety na pozici")]),t.loaded?n("BarGraph",{attrs:{data:t.escortEventsCountData}}):t._e()],1),n("b-col",{attrs:{cols:"6"}},[n("h3",[t._v("Lety ve dnech")]),t.loaded?n("BarGraph",{attrs:{data:t.weekDayCounts}}):t._e()],1)],1),n("b-row",[n("b-col",{attrs:{cols:"6"}},[n("h3",[t._v("Lety v měsících")]),t.loaded?n("BarGraph",{attrs:{data:t.monthsCounts}}):t._e()],1)],1)],1)])],1),n("b-row",[n("b-col",[n("h2",[t._v("Nadcházející lety")]),n("Events",{staticClass:"info",attrs:{events:t.futureEvents}})],1),n("b-col",[n("h2",[t._v("Proběhlé lety")]),n("Events",{staticClass:"info",attrs:{events:t.pastEvents}})],1)],1)],1)},r=[],s=(n("4de4"),n("d81d"),n("13d5"),n("d3b7"),n("3ca3"),n("ddb0"),n("3835")),o=(n("96cf"),n("1da1")),c=n("d4ec"),u=n("bee2"),i=n("262e"),l=n("2caf"),v=n("9ab4"),d=n("60a3"),f=n("c8be"),h=n("dac6"),b=n("19b8"),p=n("d720"),w=n("3b7b"),D=function(t){Object(i["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.user={},t.userVM={},t.events=[],t.loaded=!1,t}return Object(u["a"])(n,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.LoadData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"LoadData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=parseInt(this.$route.params.id),Promise.all([Object(f["b"])(e),Object(f["c"])(e)]).then((function(t){var e=Object(s["a"])(t,2),a=e[0],r=e[1];n.user=a,n.events=r,n.userVM=a,n.userVM.eventCount=n.events.length,n.userVM.customerCount=n.events.map((function(t){return t.customerCount})).reduce((function(t,e){return t+e}));var o=n.events.sort((function(t,e){return new Date(t.startDate).getTime()-new Date(e.startDate).getTime()}));o.length>0&&(n.userVM.firstEventDate=new Date(o[0].startDate).toLocaleDateString(),n.userVM.lastEventDate=new Date(o[o.length-1].startDate).toLocaleDateString()),n.loaded=!0}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"futureEvents",get:function(){return this.events.filter((function(t){return new Date(t.startDate)>new Date}))}},{key:"pastEvents",get:function(){return this.events.filter((function(t){return new Date(t.startDate)<new Date}))}},{key:"escortEventsCountData",get:function(){var t=this,e=this.pastEvents.filter((function(e){return e.escortId==t.user.id})).length,n=this.pastEvents.filter((function(e){return e.pilotId==t.user.id})).length;return{labels:["Jako doprovod","Jako pilot"],datasets:[{data:[e,n]}]}}},{key:"weekDayCounts",get:function(){return w["c"](this.events)}},{key:"monthsCounts",get:function(){return w["a"](this.events)}}]),n}(d["d"]);Object(v["a"])([Object(d["e"])("$route")],D.prototype,"LoadData",null),D=Object(v["a"])([Object(d["a"])({components:{UserInfo:h["a"],Events:b["a"],BarGraph:p["a"]}})],D);var m=D,y=m,g=(n("f339"),n("2877")),j=Object(g["a"])(y,a,r,!1,null,"ad93ce38",null);e["default"]=j.exports},"4c3c":function(t,e,n){},f339:function(t,e,n){"use strict";n("4c3c")}}]);
//# sourceMappingURL=about.5331d9bc.js.map