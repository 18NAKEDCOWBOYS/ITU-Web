{"version":3,"sources":["webpack:///./src/views/UserPage.vue?ec92","webpack:///./src/components/DonutGraph.vue","webpack:///./src/components/DonutGraph.vue?39aa","webpack:///./src/components/DonutGraph.vue?e04a","webpack:///./src/views/UserPage.vue","webpack:///./src/views/UserPage.vue?4d9c","webpack:///./src/views/UserPage.vue?9f8a","webpack:///./src/views/UserPage.vue?caad"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","user","name","userVM","model","value","callback","$$v","controlsValue","expression","escortEventsCountData","_e","weekDayCounts","monthsCounts","filteredEvents","staticRenderFns","drawChart","options","maintainAspectRatio","renderChart","data","required","component","events","loaded","entriesDate","eventTypes","LoadData","userId","parseInt","$route","params","id","Promise","all","then","eventCount","length","customerCount","map","a","reduce","b","sortedEvents","sort","Date","startDate","getTime","firstEventDate","toLocaleDateString","lastEventDate","filter","includes","eventType","toString","Stats","components","UserInfo","Events","BarGraph","DonutGraph","EventsControl"],"mappings":"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","file":"js/about.f281c763.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('h1',{staticClass:\"my-4\"},[_vm._v(_vm._s(_vm.user.name))]),_c('b-row',{staticClass:\"my-5\"},[_c('b-col',[_c('UserInfo',{staticClass:\"info\",attrs:{\"user\":_vm.userVM}})],1),_c('b-col',[_c('div',[_c('EventsControl',{model:{value:(_vm.controlsValue),callback:function ($$v) {_vm.controlsValue=$$v},expression:\"controlsValue\"}}),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('h3',[_vm._v(\"Lety na pozici\")]),(_vm.loaded)?_c('DonutGraph',{attrs:{\"data\":_vm.escortEventsCountData}}):_vm._e()],1),_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('h3',[_vm._v(\"Lety ve dnech\")]),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.weekDayCounts}}):_vm._e()],1)],1),_c('b-row',[_c('b-col',{attrs:{\"cols\":\"6\"}},[_c('h3',[_vm._v(\"Lety v měsících\")]),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.monthsCounts}}):_vm._e()],1)],1)],1)])],1),_c('b-row',[_c('b-col',[_c('h2',[_vm._v(\"Seznam letů\")]),_c('Events',{staticClass:\"info\",attrs:{\"events\":_vm.filteredEvents}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Mixins, Prop, Watch } from \"vue-property-decorator\";\nimport { Doughnut } from \"vue-chartjs\";\n@Component\nexport default class BarGraph extends Mixins(Doughnut) {\n  @Prop({ required: true }) data: any;\n  mounted() {\n    this.drawChart();\n  }\n  @Watch(\"data\")\n  drawChart() {\n    const options = {\n      maintainAspectRatio: false,\n    };\n    this.renderChart(this.data, options);\n  }\n}\n","var render, staticRenderFns\nimport script from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\nexport * from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { GetUser, User, Event, GetUserEvents } from \"../modules/ApiModel\";\nimport UserInfo from \"../components/UserInfo.vue\";\nimport Events from \"../components/Events.vue\";\nimport BarGraph from \"../components/BarGraph.vue\";\nimport DonutGraph from \"../components/DonutGraph.vue\";\n\nimport EventsControl from \"../components/EventsControl.vue\";\nimport * as Stats from \"../modules/Stats\";\n\n@Component({\n  components: {\n    UserInfo,\n    Events,\n    BarGraph,\n    DonutGraph,\n    EventsControl,\n  },\n})\nexport default class UserPage extends Vue {\n  user: User = {} as User;\n  userVM: any = {};\n  events: Event[] = [];\n  loaded = false;\n  controlsValue = {\n    entriesDate: \"\",\n    eventTypes: [\"1\", \"2\"],\n  };\n\n  async created() {\n    this.LoadData();\n  }\n\n  @Watch(\"$route\")\n  async LoadData() {\n    const userId = parseInt(this.$route.params.id);\n    Promise.all([GetUser(userId), GetUserEvents(userId)]).then(\n      ([user, events]) => {\n        this.user = user;\n        this.events = events;\n        this.userVM = user;\n        this.userVM.eventCount = this.events.length;\n        this.userVM.customerCount = this.events\n          .map(a => a.customerCount)\n          .reduce((a, b) => a + b);\n        const sortedEvents = this.events.sort(\n          (a, b) =>\n            new Date(a.startDate).getTime() - new Date(b.startDate).getTime(),\n        );\n        if (sortedEvents.length > 0) {\n          this.userVM.firstEventDate = new Date(\n            sortedEvents[0].startDate,\n          ).toLocaleDateString();\n          this.userVM.lastEventDate = new Date(\n            sortedEvents[sortedEvents.length - 1].startDate,\n          ).toLocaleDateString();\n        }\n        this.loaded = true;\n      },\n    );\n  }\n\n  get filteredEvents(): Event[] {\n    return this.events.filter(\n      a =>\n        a.startDate > this.controlsValue.entriesDate &&\n        this.controlsValue.eventTypes.includes(a.eventType.toString()),\n    );\n  }\n\n  get escortEventsCountData(): {} {\n    return Stats.escortEventsCountData(this.filteredEvents, this.user.id);\n  }\n\n  get weekDayCounts(): {} {\n    return Stats.weekDayCounts(this.filteredEvents);\n  }\n\n  get monthsCounts(): {} {\n    return Stats.monthsCounts(this.filteredEvents);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPage.vue?vue&type=template&id=7a52c7f0&scoped=true&\"\nimport script from \"./UserPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserPage.vue?vue&type=style&index=0&id=7a52c7f0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a52c7f0\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=style&index=0&id=7a52c7f0&scoped=true&lang=css&\""],"sourceRoot":""}