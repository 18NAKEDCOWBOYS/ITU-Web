(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2cbc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[a("h1",{staticClass:"my-4"},[t._v(t._s(t.user.name))]),a("b-row",[a("b-col",{attrs:{lg:"6","offset-lg":"3"}},[a("EventsControl",{model:{value:t.controlsValue,callback:function(e){t.controlsValue=e},expression:"controlsValue"}})],1)],1),a("b-row",{staticClass:"my-5"},[a("b-col",{attrs:{lg:"4"}},[t.loaded?a("UserInfo",{attrs:{user:t.userVM}}):t._e()],1),a("b-col",{attrs:{lg:"2"}},[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Lety na pozici")]),t.loaded?a("DonutGraph",{attrs:{data:t.escortEventsCountData}}):t._e()],1)]),a("b-col",{attrs:{lg:"3"}},[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Lety v měsících")]),t.loaded?a("BarGraph",{attrs:{data:t.monthsCounts}}):t._e()],1)]),a("b-col",{attrs:{lg:"3"}},[a("div",{staticClass:"chart-container"},[a("h3",[t._v("Lety ve dnech")]),t.loaded?a("BarGraph",{attrs:{data:t.weekDayCounts}}):t._e()],1)])],1),a("b-row",[a("b-col",[a("h2",[t._v("Seznam letů")]),a("Events",{staticClass:"info",attrs:{events:t.filteredEvents}})],1)],1)],1)},r=[],s=(a("4de4"),a("caad"),a("d81d"),a("13d5"),a("d3b7"),a("25f0"),a("2532"),a("3ca3"),a("ddb0"),a("3835")),o=(a("96cf"),a("1da1")),c=a("d4ec"),u=a("bee2"),i=a("262e"),l=a("2caf"),d=a("9ab4"),v=a("60a3"),b=a("c8be"),h=a("dac6"),f=a("19b8"),p=a("d720"),m=a("1fca"),y=function(t){Object(i["a"])(a,t);var e=Object(l["a"])(a);function a(){return Object(c["a"])(this,a),e.apply(this,arguments)}return Object(u["a"])(a,[{key:"mounted",value:function(){this.drawChart()}},{key:"drawChart",value:function(){var t={maintainAspectRatio:!1};this.renderChart(this.data,t)}}]),a}(Object(v["b"])(m["b"]));Object(d["a"])([Object(v["c"])({required:!0})],y.prototype,"data",void 0),Object(d["a"])([Object(v["e"])("data")],y.prototype,"drawChart",null),y=Object(d["a"])([v["a"]],y);var D,j,O=y,w=O,C=a("2877"),g=Object(C["a"])(w,D,j,!1,null,null,null),k=g.exports,E=a("f4a1"),_=a("3b7b"),L=function(t){Object(i["a"])(a,t);var e=Object(l["a"])(a);function a(){var t;return Object(c["a"])(this,a),t=e.apply(this,arguments),t.user={},t.events=[],t.loaded=!1,t.controlsValue={entriesDate:"",eventTypes:["1","2"]},t}return Object(u["a"])(a,[{key:"created",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.LoadData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"LoadData",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=parseInt(this.$route.params.id),Promise.all([Object(b["b"])(e),Object(b["c"])(e)]).then((function(t){var e=Object(s["a"])(t,2),n=e[0],r=e[1];a.user=n,a.events=r,a.loaded=!0}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"userVM",get:function(){var t=this.user;if(t.eventCount=this.events.length,t.eventCount){t.customerCount=this.events.map((function(t){return t.customerCount})).reduce((function(t,e){return t+e}));var e=this.events.sort((function(t,e){return new Date(t.startDate).getTime()-new Date(e.startDate).getTime()}));t.firstEventDate=new Date(e[0].startDate).toLocaleDateString(),t.lastEventDate=new Date(e[e.length-1].startDate).toLocaleDateString()}else t.customerCount=0,t.eventCount=0,t.firstEventDate="",t.lastEventDate="";return t}},{key:"filteredEvents",get:function(){var t=this;return this.events.filter((function(e){return e.startDate>t.controlsValue.entriesDate&&t.controlsValue.eventTypes.includes(e.eventType.toString())}))}},{key:"escortEventsCountData",get:function(){return _["a"](this.filteredEvents,this.user.id)}},{key:"weekDayCounts",get:function(){return _["d"](this.filteredEvents)}},{key:"monthsCounts",get:function(){return _["b"](this.filteredEvents)}}]),a}(v["d"]);Object(d["a"])([Object(v["e"])("$route")],L.prototype,"LoadData",null),L=Object(d["a"])([Object(v["a"])({components:{UserInfo:h["a"],Events:f["a"],BarGraph:p["a"],DonutGraph:k,EventsControl:E["a"]}})],L);var V=L,x=V,G=(a("3249"),Object(C["a"])(x,n,r,!1,null,"267e9f58",null));e["default"]=G.exports},3249:function(t,e,a){"use strict";a("a95b")},a95b:function(t,e,a){}}]);
//# sourceMappingURL=about.3d6d0117.js.map