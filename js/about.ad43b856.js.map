{"version":3,"sources":["webpack:///./src/views/UserPage.vue?d5f3","webpack:///./src/components/DonutGraph.vue","webpack:///./src/components/DonutGraph.vue?39aa","webpack:///./src/components/DonutGraph.vue?e04a","webpack:///./src/views/UserPage.vue","webpack:///./src/views/UserPage.vue?4d9c","webpack:///./src/views/UserPage.vue?9f8a","webpack:///./src/views/UserPage.vue?2c75"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","user","name","model","value","callback","$$v","controlsValue","expression","userVM","_e","escortEventsCountData","monthsCounts","weekDayCounts","filteredEvents","staticRenderFns","drawChart","options","maintainAspectRatio","renderChart","data","required","component","events","loaded","entriesDate","eventTypes","LoadData","userId","parseInt","$route","params","id","Promise","all","then","eventCount","length","customerCount","map","a","reduce","b","sortedEvents","sort","Date","startDate","getTime","firstEventDate","toLocaleDateString","lastEventDate","filter","includes","eventType","toString","Stats","components","UserInfo","Events","BarGraph","DonutGraph","EventsControl"],"mappings":"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","file":"js/about.ad43b856.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[_c('h1',{staticClass:\"my-4\"},[_vm._v(_vm._s(_vm.user.name))]),_c('b-row',[_c('b-col',{attrs:{\"lg\":\"6\",\"offset-lg\":\"3\"}},[_c('EventsControl',{model:{value:(_vm.controlsValue),callback:function ($$v) {_vm.controlsValue=$$v},expression:\"controlsValue\"}})],1)],1),_c('b-row',{staticClass:\"my-5\"},[_c('b-col',{attrs:{\"lg\":\"4\"}},[(_vm.loaded)?_c('UserInfo',{attrs:{\"user\":_vm.userVM}}):_vm._e()],1),_c('b-col',{attrs:{\"lg\":\"2\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety na pozici\")]),(_vm.loaded)?_c('DonutGraph',{attrs:{\"data\":_vm.escortEventsCountData}}):_vm._e()],1)]),_c('b-col',{attrs:{\"lg\":\"3\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety v měsících\")]),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.monthsCounts}}):_vm._e()],1)]),_c('b-col',{attrs:{\"lg\":\"3\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety ve dnech\")]),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.weekDayCounts}}):_vm._e()],1)])],1),_c('b-row',[_c('b-col',[_c('h2',[_vm._v(\"Seznam letů\")]),_c('Events',{staticClass:\"info\",attrs:{\"events\":_vm.filteredEvents}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Mixins, Prop, Watch } from \"vue-property-decorator\";\nimport { Doughnut } from \"vue-chartjs\";\n@Component\nexport default class BarGraph extends Mixins(Doughnut) {\n  @Prop({ required: true }) data: any;\n  mounted() {\n    this.drawChart();\n  }\n  @Watch(\"data\")\n  drawChart() {\n    const options = {\n      maintainAspectRatio: false,\n    };\n    this.renderChart(this.data, options);\n  }\n}\n","var render, staticRenderFns\nimport script from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\nexport * from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { GetUser, User, Event, GetUserEvents } from \"../modules/ApiModel\";\nimport UserInfo from \"../components/UserInfo.vue\";\nimport Events from \"../components/Events.vue\";\nimport BarGraph from \"../components/BarGraph.vue\";\nimport DonutGraph from \"../components/DonutGraph.vue\";\n\nimport EventsControl from \"../components/EventsControl.vue\";\nimport * as Stats from \"../modules/Stats\";\n\n@Component({\n  components: {\n    UserInfo,\n    Events,\n    BarGraph,\n    DonutGraph,\n    EventsControl,\n  },\n})\nexport default class UserPage extends Vue {\n  user: User = {} as User;\n  events: Event[] = [];\n  loaded = false;\n  controlsValue = {\n    entriesDate: \"\",\n    eventTypes: [\"1\", \"2\"],\n  };\n\n  async created() {\n    this.LoadData();\n  }\n\n  @Watch(\"$route\")\n  async LoadData() {\n    const userId = parseInt(this.$route.params.id);\n    Promise.all([GetUser(userId), GetUserEvents(userId)]).then(\n      ([user, events]) => {\n        this.user = user;\n        this.events = events;\n\n        this.loaded = true;\n      },\n    );\n  }\n  get userVM(): {} {\n    const userVM = this.user as any;\n\n    userVM.eventCount = this.events.length;\n    if (userVM.eventCount) {\n      userVM.customerCount = this.events\n        .map((a) => a.customerCount)\n        .reduce((a, b) => a + b);\n      const sortedEvents = this.events.sort(\n        (a, b) =>\n          new Date(a.startDate).getTime() - new Date(b.startDate).getTime(),\n      );\n      userVM.firstEventDate = new Date(\n        sortedEvents[0].startDate,\n      ).toLocaleDateString();\n      userVM.lastEventDate = new Date(\n        sortedEvents[sortedEvents.length - 1].startDate,\n      ).toLocaleDateString();\n    } else {\n      userVM.customerCount = 0;\n      userVM.eventCount = 0;\n      userVM.firstEventDate = \"Žádný let\";\n      userVM.lastEventDate = \"Žádný let\";\n    }\n\n    return userVM;\n  }\n\n  get filteredEvents(): Event[] {\n    return this.events.filter(\n      (a) =>\n        a.startDate > this.controlsValue.entriesDate &&\n        this.controlsValue.eventTypes.includes(a.eventType.toString()),\n    );\n  }\n\n  get escortEventsCountData(): {} {\n    return Stats.escortEventsCountData(this.filteredEvents, this.user.id);\n  }\n\n  get weekDayCounts(): {} {\n    return Stats.weekDayCounts(this.filteredEvents);\n  }\n\n  get monthsCounts(): {} {\n    return Stats.monthsCounts(this.filteredEvents);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPage.vue?vue&type=template&id=cdbc0908&scoped=true&\"\nimport script from \"./UserPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserPage.vue?vue&type=style&index=0&id=cdbc0908&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cdbc0908\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=style&index=0&id=cdbc0908&scoped=true&lang=css&\""],"sourceRoot":""}