(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"2cbc":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:""}},[r("h1",{staticClass:"my-4"},[t._v(t._s(t.user.name))]),r("b-row",{staticClass:"my-5"},[r("b-col",[r("UserInfo",{staticClass:"info",attrs:{user:t.userVM}})],1),r("b-col",[r("div",[r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("h3",[t._v("Lety na pozici")]),t.loaded?r("BarGraph",{attrs:{data:t.escortEventsCountData}}):t._e()],1),r("b-col",{attrs:{cols:"6"}},[r("h3",[t._v("Lety ve dnech")]),t.loaded?r("BarGraph",{attrs:{data:t.weekDayCounts}}):t._e()],1)],1),r("b-row",[r("b-col",{attrs:{cols:"6"}},[r("h3",[t._v("Lety v měsících")]),t.loaded?r("BarGraph",{attrs:{data:t.monthsCounts}}):t._e()],1),r("b-col",{attrs:{cols:"6"}},[r("h3",[t._v("Zákazníci v měsících")]),t.loaded?r("BarGraph",{attrs:{data:t.monthCustomers}}):t._e()],1)],1)],1)])],1),r("b-row",[r("b-col",[r("h2",[t._v("Nadcházející lety")]),r("Events",{staticClass:"info",attrs:{events:t.futureEvents}})],1),r("b-col",[r("h2",[t._v("Proběhlé lety")]),r("Events",{staticClass:"info",attrs:{events:t.pastEvents}})],1)],1)],1)},n=[];r("cb29"),r("4de4"),r("4160"),r("d81d"),r("13d5"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0");function o(t){if(Array.isArray(t))return t}r("a4d3"),r("e01a"),r("d28b");function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,n=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)if(r.push(s.value),e&&r.length===e)break}catch(i){n=!0,o=i}finally{try{a||null==c["return"]||c["return"]()}finally{if(n)throw o}}return r}}r("a630"),r("fb6a"),r("b0c0"),r("25f0");function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function i(t,e){if(t){if("string"===typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(t,e){return o(t)||s(t,e)||i(t,e)||u()}r("96cf");var f=r("1da1"),d=r("d4ec"),v=r("bee2"),h=r("262e"),b=r("2caf"),p=r("9ab4"),y=r("60a3"),m=r("c8be"),g=r("dac6"),w=r("19b8"),D=r("d720"),C=function(t){Object(h["a"])(r,t);var e=Object(b["a"])(r);function r(){var t;return Object(d["a"])(this,r),t=e.apply(this,arguments),t.user={},t.userVM={},t.events=[],t.loaded=!1,t}return Object(v["a"])(r,[{key:"created",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.LoadData();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"LoadData",value:function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=parseInt(this.$route.params.id),Promise.all([Object(m["b"])(e),Object(m["c"])(e)]).then((function(t){var e=l(t,2),a=e[0],n=e[1];r.user=a,r.events=n,r.userVM=a,r.userVM.eventCount=r.events.length,r.userVM.customerCount=r.events.map((function(t){return t.customerCount})).reduce((function(t,e){return t+e}));var o=r.events.sort((function(t,e){return new Date(t.startDate).getTime()-new Date(e.startDate).getTime()}));o.length>0&&(r.userVM.firstEventDate=new Date(o[0].startDate).toLocaleDateString(),r.userVM.lastEventDate=new Date(o[o.length-1].startDate).toLocaleDateString()),r.loaded=!0}));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"futureEvents",get:function(){return this.events.filter((function(t){return new Date(t.startDate)>new Date}))}},{key:"pastEvents",get:function(){return this.events.filter((function(t){return new Date(t.startDate)<new Date}))}},{key:"escortEventsCountData",get:function(){var t=this,e=this.pastEvents.filter((function(e){return e.escortId==t.user.id})).length,r=this.pastEvents.filter((function(e){return e.pilotId==t.user.id})).length;return{labels:["Jako doprovod","Jako pilot"],datasets:[{data:[e,r]}]}}},{key:"weekDayCounts",get:function(){for(var t=this.pastEvents.map((function(t){return new Date(t.startDate).getDay()})),e=Array(7).fill(0),r=0;r<t.length;r++)e[t[r]]+=1;var a=["Po","Út","St","Čt","Pá","So","Ne"];return{labels:a,datasets:[{data:e}]}}},{key:"monthsCounts",get:function(){for(var t=this.pastEvents.map((function(t){return new Date(t.startDate).getMonth()})),e=Array(12).fill(0),r=0;r<t.length;r++)e[t[r]]+=1;return{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],datasets:[{data:e}]}}},{key:"monthCustomers",get:function(){var t=Array(12).fill(0);return this.pastEvents.forEach((function(e){t[new Date(e.startDate).getMonth()]+=e.customerCount})),{labels:["1","2","3","4","5","6","7","8","9","10","11","12"],datasets:[{data:t}]}}}]),r}(y["d"]);Object(p["a"])([Object(y["e"])("$route")],C.prototype,"LoadData",null),C=Object(p["a"])([Object(y["a"])({components:{UserInfo:g["a"],Events:w["a"],BarGraph:D["a"]}})],C);var E=C,j=E,k=(r("af1a"),r("2877")),A=Object(k["a"])(j,a,n,!1,null,"7a10a80a",null);e["default"]=A.exports},3374:function(t,e,r){},"4df4":function(t,e,r){"use strict";var a=r("0366"),n=r("7b0b"),o=r("9bdd"),s=r("e95a"),c=r("50c4"),i=r("8418"),u=r("35a1");t.exports=function(t){var e,r,l,f,d,v,h=n(t),b="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,m=void 0!==y,g=u(h),w=0;if(m&&(y=a(y,p>2?arguments[2]:void 0,2)),void 0==g||b==Array&&s(g))for(e=c(h.length),r=new b(e);e>w;w++)v=m?y(h[w],w):h[w],i(r,w,v);else for(f=g.call(h),d=f.next,r=new b;!(l=d.call(f)).done;w++)v=m?o(f,y,[l.value,w],!0):l.value,i(r,w,v);return r.length=w,r}},8418:function(t,e,r){"use strict";var a=r("c04e"),n=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var s=a(e);s in t?n.f(t,s,o(0,r)):t[s]=r}},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,o){try{return o?e(a(r)[0],r[1]):e(r)}catch(s){throw n(t),s}}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),s=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:n})},af1a:function(t,e,r){"use strict";r("3374")},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("861d"),o=r("e8b5"),s=r("23cb"),c=r("50c4"),i=r("fc6a"),u=r("8418"),l=r("b622"),f=r("1dde"),d=r("ae40"),v=f("slice"),h=d("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),p=[].slice,y=Math.max;a({target:"Array",proto:!0,forced:!v||!h},{slice:function(t,e){var r,a,l,f=i(this),d=c(f.length),v=s(t,d),h=s(void 0===e?d:e,d);if(o(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return p.call(f,v,h);for(a=new(void 0===r?Array:r)(y(h-v,0)),l=0;v<h;v++,l++)v in f&&u(a,l,f[v]);return a.length=l,a}})}}]);
//# sourceMappingURL=about.c8939074.js.map