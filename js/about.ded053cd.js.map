{"version":3,"sources":["webpack:///./src/views/UserPage.vue?ec12","webpack:///./src/components/DonutGraph.vue","webpack:///./src/components/DonutGraph.vue?39aa","webpack:///./src/components/DonutGraph.vue?e04a","webpack:///./src/views/UserPage.vue","webpack:///./src/views/UserPage.vue?4d9c","webpack:///./src/views/UserPage.vue?9f8a","webpack:///./src/views/UserPage.vue?41c8"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","loaded","_e","staticClass","staticStyle","_v","_s","user","name","model","value","callback","$$v","controlsValue","expression","striped","userVM","escortEventsCountData","monthsCounts","weekDayCounts","filteredEvents","staticRenderFns","drawChart","options","maintainAspectRatio","renderChart","data","required","component","events","entriesDate","eventTypes","LoadData","userId","parseInt","$route","params","id","Promise","all","then","eventCount","length","customerCount","map","a","reduce","b","sortedEvents","sort","Date","startDate","getTime","firstEventDate","toLocaleDateString","lastEventDate","filter","includes","eventType","toString","Stats","components","UserInfo","Events","BarGraph","DonutGraph","EventsControl"],"mappings":"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","file":"js/about.ded053cd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loaded)?_c('b-skeleton',{staticClass:\"my-4\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"width\":\"15em\",\"type\":\"input\"}}):_vm._e(),_c('h1',{staticClass:\"my-4\"},[_vm._v(_vm._s(_vm.user.name))]),_c('b-row',[_c('b-col',{attrs:{\"lg\":\"6\",\"offset-lg\":\"3\"}},[_c('EventsControl',{model:{value:(_vm.controlsValue),callback:function ($$v) {_vm.controlsValue=$$v},expression:\"controlsValue\"}})],1)],1),_c('b-row',{staticClass:\"my-5\"},[_c('b-col',{attrs:{\"lg\":\"4\"}},[(!_vm.loaded)?_c('b-skeleton-table',{attrs:{\"rows\":7,\"columns\":2,\"table-props\":{ striped: false }}}):_vm._e(),(_vm.loaded)?_c('UserInfo',{attrs:{\"user\":_vm.userVM}}):_vm._e()],1),_c('b-col',{attrs:{\"lg\":\"2\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety na pozici\")]),(!_vm.loaded)?_c('b-skeleton-img',{attrs:{\"aspect\":\"2:3\"}}):_vm._e(),(_vm.loaded)?_c('DonutGraph',{attrs:{\"data\":_vm.escortEventsCountData}}):_vm._e()],1)]),_c('b-col',{attrs:{\"lg\":\"3\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety v měsících\")]),(!_vm.loaded)?_c('b-skeleton-img',{attrs:{\"aspect\":\"1:1\"}}):_vm._e(),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.monthsCounts}}):_vm._e()],1)]),_c('b-col',{attrs:{\"lg\":\"3\"}},[_c('div',{staticClass:\"chart-container\"},[_c('h3',[_vm._v(\"Lety ve dnech\")]),(!_vm.loaded)?_c('b-skeleton-img',{attrs:{\"aspect\":\"1:1\"}}):_vm._e(),(_vm.loaded)?_c('BarGraph',{attrs:{\"data\":_vm.weekDayCounts}}):_vm._e()],1)])],1),_c('b-row',[_c('b-col',[_c('h2',[_vm._v(\"Seznam letů\")]),_c('Events',{staticClass:\"info\",attrs:{\"events\":_vm.filteredEvents}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Mixins, Prop, Watch } from \"vue-property-decorator\";\nimport { Doughnut } from \"vue-chartjs\";\n@Component\nexport default class BarGraph extends Mixins(Doughnut) {\n  @Prop({ required: true }) data: any;\n  mounted() {\n    this.drawChart();\n  }\n  @Watch(\"data\")\n  drawChart() {\n    const options = {\n      maintainAspectRatio: false,\n    };\n    this.renderChart(this.data, options);\n  }\n}\n","var render, staticRenderFns\nimport script from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\nexport * from \"./DonutGraph.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DonutGraph.vue?vue&type=script&lang=ts&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { GetUser, User, Event, GetUserEvents } from \"../modules/ApiModel\";\nimport UserInfo from \"../components/UserInfo.vue\";\nimport Events from \"../components/Events.vue\";\nimport BarGraph from \"../components/BarGraph.vue\";\nimport DonutGraph from \"../components/DonutGraph.vue\";\n\nimport EventsControl from \"../components/EventsControl.vue\";\nimport * as Stats from \"../modules/Stats\";\n\n@Component({\n  components: {\n    UserInfo,\n    Events,\n    BarGraph,\n    DonutGraph,\n    EventsControl,\n  },\n})\nexport default class UserPage extends Vue {\n  user: User = {} as User;\n  events: Event[] = [];\n  loaded = false;\n  controlsValue = {\n    entriesDate: \"\",\n    eventTypes: [\"1\", \"2\"],\n  };\n\n  async created() {\n    this.LoadData();\n  }\n\n  @Watch(\"$route\")\n  async LoadData() {\n    const userId = parseInt(this.$route.params.id);\n    Promise.all([GetUser(userId), GetUserEvents(userId)]).then(\n      ([user, events]) => {\n        this.user = user;\n        this.events = events;\n\n        this.loaded = true;\n      },\n    );\n  }\n  get userVM(): {} {\n    const userVM = this.user as any;\n\n    userVM.eventCount = this.events.length;\n    if (userVM.eventCount) {\n      userVM.customerCount = this.events\n        .map(a => a.customerCount)\n        .reduce((a, b) => a + b);\n      const sortedEvents = this.events.sort(\n        (a, b) =>\n          new Date(a.startDate).getTime() - new Date(b.startDate).getTime(),\n      );\n      userVM.firstEventDate = new Date(\n        sortedEvents[0].startDate,\n      ).toLocaleDateString();\n      userVM.lastEventDate = new Date(\n        sortedEvents[sortedEvents.length - 1].startDate,\n      ).toLocaleDateString();\n    } else {\n      userVM.customerCount = 0;\n      userVM.eventCount = 0;\n      userVM.firstEventDate = \"Žádný let\";\n      userVM.lastEventDate = \"Žádný let\";\n    }\n\n    return userVM;\n  }\n\n  get filteredEvents(): Event[] {\n    return this.events.filter(\n      a =>\n        a.startDate > this.controlsValue.entriesDate &&\n        this.controlsValue.eventTypes.includes(a.eventType.toString()),\n    );\n  }\n\n  get escortEventsCountData(): {} {\n    return Stats.escortEventsCountData(this.filteredEvents, this.user.id);\n  }\n\n  get weekDayCounts(): {} {\n    return Stats.weekDayCounts(this.filteredEvents);\n  }\n\n  get monthsCounts(): {} {\n    return Stats.monthsCounts(this.filteredEvents);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UserPage.vue?vue&type=template&id=44b780ba&scoped=true&\"\nimport script from \"./UserPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UserPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UserPage.vue?vue&type=style&index=0&id=44b780ba&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44b780ba\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPage.vue?vue&type=style&index=0&id=44b780ba&scoped=true&lang=css&\""],"sourceRoot":""}